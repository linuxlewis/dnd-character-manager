# Progress Log
Run: 2e27aae6-cb48-4abb-a296-23fd4e111978
Task: Add SQLite persistence for all character data using Drizzle ORM
Started: 2026-02-22T14:37:00-06:00

## Codebase Patterns
- Project uses vitest for testing, run with `pnpm test`
- Path aliases: @domains/* -> src/domains/*, @providers/* -> src/providers/*
- Build is `tsc --noEmit` + vite build
- Drizzle JSON text columns use mode: "json" and have columnType "SQLiteTextJson" (not "SQLiteText")
- better-sqlite3 is the SQLite driver (installed as dependency)
- data/ directory is gitignored for SQLite DB storage
- drizzle.config.ts in project root for drizzle-kit commands

---

## 2026-02-22 14:39 - US-001: Add Drizzle SQLite schema for characters table
- Created src/providers/db/schema.ts with characters table (id, name, race, class, level, ability_scores, hp, spell_slots, equipment, skills, notes, created_at, updated_at)
- Created src/providers/db/connection.ts with createDb() helper
- Created drizzle.config.ts pointing to data/app.db
- data/ already in .gitignore from prior commits
- Files changed: drizzle.config.ts, src/providers/db/schema.ts, src/providers/db/connection.ts, src/providers/db/schema.test.ts
- **Learnings:** JSON mode columns in Drizzle SQLite have columnType "SQLiteTextJson", not "SQLiteText"
---
