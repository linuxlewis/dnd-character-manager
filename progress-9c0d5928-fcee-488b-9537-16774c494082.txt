# Progress — Run 9c0d5928-fcee-488b-9537-16774c494082

## Completed Stories

### story-01: Character core types and Zod schemas
- Created `src/domains/character/types/character.ts` with CharacterSchema, CreateCharacterSchema, UpdateCharacterSchema, AbilityScoresSchema, getAbilityModifier
- Created `src/domains/character/types/index.ts` re-exporting all types
- Created `src/domains/character/types/character.test.ts` with 17 passing tests
- All lints and typecheck pass

## Codebase Patterns

- **Domain structure**: `src/domains/<name>/types/` contains Zod schemas, type exports, and tests
- **Schema pattern**: Main schema → CreateSchema (omit id/timestamps) → UpdateSchema (partial of Create)
- **File naming**: `<entity>.ts` for schemas, `<entity>.test.ts` for tests, `index.ts` for re-exports
- **Imports**: Use `.js` extension in imports (ESM)
- **Linting**: biome check + custom `check-deps.ts` for architecture violations
- **Test runner**: vitest
- **Package manager**: pnpm

### story-02: HP and combat types
- Added HpSchema (current min 0, max min 1, temp min 0) to character.ts
- Added hp field to CharacterSchema (and by extension Create/Update schemas)
- Implemented applyDamage (temp HP absorbs first, floors at 0) and applyHealing (caps at max)
- Added 15 new tests covering HpSchema validation, applyDamage, applyHealing with edge cases
- All 36 tests pass, lint and typecheck pass

### story-03: Skills types and proficiency calculation
- Created `src/domains/character/types/skills.ts` with SkillSchema, SKILLS (18 skills), getProficiencyBonus, calculateSkillBonus
- Created `src/domains/character/types/skills.test.ts` with 20 tests covering schema validation, skill count, ability mappings, proficiency bonus for all tier boundaries, and skill bonus calculations
- Updated `index.ts` to re-export all skill types
- All 56 tests pass, lint and typecheck pass
